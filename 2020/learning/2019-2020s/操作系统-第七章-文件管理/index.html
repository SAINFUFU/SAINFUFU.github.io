<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="theme-color" content="#0078E7"><meta name="author" content="SAIN"><meta name="copyright" content="SAIN"><meta name="generator" content="Hexo 4.2.1"><meta name="theme" content="hexo-theme-yun"><title>操作系统-第七章-文件管理 | SAIN</title><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Noto+Serif+SC:wght@900&amp;display=swap" media="none" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/star-markdown-css@0.1.8/dist/yun/yun-markdown.min.css"><script src="//at.alicdn.com/t/font_1906232_s69jdalisd.js" async></script><script src="https://cdn.jsdelivr.net/npm/scrollreveal/dist/scrollreveal.min.js" defer></script><script>document.addEventListener("DOMContentLoaded", () => {
  [".post-card",".post-content img"].forEach((target)=> {
    ScrollReveal().reveal(target);
  })
});
</script><link rel="shortcut icon" type="image/svg+xml" href="/dog.png"><link rel="mask-icon" href="/dog.png" color="#0078E7"><link rel="alternate icon" href="/yun.ico"><link rel="preload" href="/css/hexo-theme-yun.css" as="style"><link rel="preload" href="/js/utils.js" as="script"><link rel="preload" href="/js/hexo-theme-yun.js" as="script"><link rel="prefetch" href="/js/sidebar.js" as="script"><link rel="preconnect" href="https://cdn.jsdelivr.net" crossorigin><link rel="stylesheet" href="/css/hexo-theme-yun.css"><script id="yun-config">
    const Yun = window.Yun || {};
    window.CONFIG = {"root":"/","title":"云游君的小站","version":"0.9.2","anonymous_image":"https://cdn.jsdelivr.net/gh/YunYouJun/cdn/img/avatar/none.jpg","local_search":{"path":"/search.xml"},"fireworks":{"colors":["102, 167, 221","62, 131, 225","33, 78, 194"]}};
  </script><meta name="description" content="操作系统-第七章-文件管理">
<meta property="og:type" content="article">
<meta property="og:title" content="操作系统-第七章-文件管理">
<meta property="og:url" content="http://sainfufu.github.io/2020/learning/2019-2020s/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F-%E7%AC%AC%E4%B8%83%E7%AB%A0-%E6%96%87%E4%BB%B6%E7%AE%A1%E7%90%86/index.html">
<meta property="og:site_name" content="SAIN">
<meta property="og:description" content="操作系统-第七章-文件管理">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="http://sainfufu.github.io/images/pasted-21.png">
<meta property="og:image" content="http://sainfufu.github.io/images/pasted-22.png">
<meta property="article:published_time" content="2020-05-18T05:54:29.000Z">
<meta property="article:modified_time" content="2020-06-25T08:07:28.000Z">
<meta property="article:author" content="SAIN">
<meta property="article:tag" content="OS">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="http://sainfufu.github.io/images/pasted-21.png"><script src="/js/ui/mode.js"></script><link rel="stylesheet" href="/css/prism.css" type="text/css">
<link rel="stylesheet" href="/css/prism-line-numbers.css" type="text/css"></head><body><script defer src="https://cdn.jsdelivr.net/npm/animejs@latest/anime.min.js"></script><script defer src="/js/ui/fireworks.js"></script><canvas class="fireworks"></canvas><div class="container"><a class="sidebar-toggle hty-icon-button" id="menu-btn"><div class="hamburger hamburger--spin" type="button"><span class="hamburger-box"><span class="hamburger-inner"></span></span></div></a><div class="sidebar-toggle sidebar-overlay"></div><aside class="sidebar"><script defer src="/js/sidebar.js"></script><ul class="sidebar-nav"><li class="sidebar-nav-item sidebar-nav-toc hty-icon-button sidebar-nav-active" data-target="post-toc-wrap" title="Table of Contents"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-list-ordered"></use></svg></li><li class="sidebar-nav-item sidebar-nav-overview hty-icon-button" data-target="site-overview-wrap" title="Overview"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-passport-line"></use></svg></li></ul><div class="sidebar-panel" id="site-overview-wrap"><div class="site-info fix-top"><a class="site-author-avatar" href="/about/" title="SAIN"><img width="96" loading="lazy" src="/avatar.jpg" alt="SAIN"></a><div class="site-author-name"><a href="/about/">SAIN</a></div><a class="site-name" href="/about/site.html">SAIN</a><sub class="site-subtitle">记录怪异</sub><div class="site-desciption"></div></div><nav class="site-state"><a class="site-state-item hty-icon-button icon-home" href="/" title="Home"><span class="site-state-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-shouye"></use></svg></span></a><div class="site-state-item"><a href="/archives/" title="Archives"><span class="site-state-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-archives_4px"></use></svg></span><span class="site-state-item-count">121</span></a></div><div class="site-state-item"><a href="/categories/" title="Categories"><span class="site-state-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-category"></use></svg></span><span class="site-state-item-count">9</span></a></div><div class="site-state-item"><a href="/tags/" title="Tags"><span class="site-state-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-06Tags"></use></svg></span><span class="site-state-item-count">40</span></a></div><a class="site-state-item hty-icon-button" href="/albums/" title="相册"><span class="site-state-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-tupianbizhi"></use></svg></span></a></nav><hr style="margin-bottom:0.5rem"><hr style="margin:0.5rem 1rem"><div class="links"><a class="links-item hty-icon-button" href="/categories/%E5%AD%A6%E4%B9%A0/" title="学习" style="color:doodgerblue"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-xuexi"></use></svg></a><a class="links-item hty-icon-button" href="/categories/Eng/" title="英语笔记" style="color:doodgerblue"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-english"></use></svg></a><a class="links-item hty-icon-button" href="/categories/CS/" title="CS" style="color:doodgerblue"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-technology_computer-"></use></svg></a><a class="links-item hty-icon-button" href="/categories/CTF/" title="CTF" style="color:doodgerblue"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-hacker"></use></svg></a><a class="links-item hty-icon-button" href="/categories/%E6%9D%82%E6%80%9D/" title="杂思" style="color:doodgerblue"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-rijibendiary"></use></svg></a><a class="links-item hty-icon-button" href="/categories/%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0/" title="读书笔记" style="color:doodgerblue"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-dushu"></use></svg></a><a class="links-item hty-icon-button" href="/categories/%E8%A7%82%E5%BD%B1%E7%AC%94%E8%AE%B0/" title="观影笔记" style="color:doodgerblue"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-dianying"></use></svg></a><a class="links-item hty-icon-button" href="/slides/" title="ppt" style="color:doodgerblue"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-ppt"></use></svg></a></div><br><a class="links-item hty-icon-button" id="toggle-mode-btn" href="javascript:;" title="Mode" style="color: #f1cb64"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-contrast-2-line"></use></svg></a></div><div class="sidebar-panel sidebar-panel-active" id="post-toc-wrap"><div class="post-toc"><div class="post-toc-content"><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#文件和文件系统"><span class="toc-number">1.</span> <span class="toc-text">文件和文件系统</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#文件的组成部分"><span class="toc-number">1.1.</span> <span class="toc-text">文件的组成部分</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#文件系统"><span class="toc-number">1.2.</span> <span class="toc-text">文件系统</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#文件系统的结构"><span class="toc-number">1.3.</span> <span class="toc-text">文件系统的结构</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#文件属性"><span class="toc-number">1.4.</span> <span class="toc-text">文件属性</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#目录"><span class="toc-number">1.5.</span> <span class="toc-text">目录</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#文件类型"><span class="toc-number">1.6.</span> <span class="toc-text">文件类型</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#文件系统模型图"><span class="toc-number">1.7.</span> <span class="toc-text">文件系统模型图</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#文件系统对文件操作"><span class="toc-number">1.8.</span> <span class="toc-text">文件系统对文件操作</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#文件的逻辑结构"><span class="toc-number">2.</span> <span class="toc-text">文件的逻辑结构</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#文件逻辑结构类型"><span class="toc-number">2.1.</span> <span class="toc-text">文件逻辑结构类型</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#有结构文件：即记录式文件（数据结构、数据库）"><span class="toc-number">2.1.1.</span> <span class="toc-text">有结构文件：即记录式文件（数据结构、数据库）</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#无结构文件：即流式文件"><span class="toc-number">2.1.2.</span> <span class="toc-text">无结构文件：即流式文件</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#有结构文件组织方式"><span class="toc-number">2.1.3.</span> <span class="toc-text">有结构文件组织方式</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#顺序文件"><span class="toc-number">2.2.</span> <span class="toc-text">顺序文件</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#索引文件"><span class="toc-number">2.3.</span> <span class="toc-text">索引文件</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#索引顺序文件"><span class="toc-number">2.4.</span> <span class="toc-text">索引顺序文件</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#直接文件"><span class="toc-number">2.5.</span> <span class="toc-text">直接文件</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#哈希（Hash）文件"><span class="toc-number">2.6.</span> <span class="toc-text">哈希（Hash）文件</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#文件目录"><span class="toc-number">3.</span> <span class="toc-text">文件目录</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#文件共享"><span class="toc-number">4.</span> <span class="toc-text">文件共享</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#文件保护"><span class="toc-number">5.</span> <span class="toc-text">文件保护</span></a></li></ol></div></div></div></aside><main class="sidebar-translate" id="content"><div id="post"><article class="post-block" itemscope itemtype="https://schema.org/Article"><link itemprop="mainEntityOfPage" href="http://sainfufu.github.io/2020/learning/2019-2020s/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F-%E7%AC%AC%E4%B8%83%E7%AB%A0-%E6%96%87%E4%BB%B6%E7%AE%A1%E7%90%86/"><span hidden itemprop="author" itemscope itemtype="https://schema.org/Person"><meta itemprop="name" content="SAIN"><meta itemprop="description"></span><span hidden itemprop="publisher" itemscope itemtype="https://schema.org/Organization"><meta itemprop="name" content="SAIN"></span><header class="post-header"><h1 class="post-title" itemprop="name headline">操作系统-第七章-文件管理</h1><div class="post-meta"><div class="post-time" style="display:inline-block"><span class="post-meta-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-calendar-line"></use></svg></span> <time title="Created: 2020-05-18 13:54:29" itemprop="dateCreated datePublished" datetime="2020-05-18T13:54:29+08:00">2020-05-18</time></div><div class="post-classify"><span class="post-category"><span class="post-meta-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-folder-line"></use></svg></span> <span itemprop="about" itemscope itemtype="https://schema.org/Thing"><a class="category" href="/categories/%E5%AD%A6%E4%B9%A0/" style="--text-color:var(--hty-text-color)" itemprop="url" rel="index"><span itemprop="text">学习</span></a></span></span><span class="post-tag"><span class="post-meta-divider">-</span><a class="tag" href="/tags/OS/" style="--text-color:var(--hty-text-color)"><span class="post-meta-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-price-tag-3-line"></use></svg></span><span class="tag-name">OS</span></a></span></div></div></header><section class="post-body" itemprop="articleBody"><div class="post-content markdown-body" style="--smc-primary:#0078E7;"><!--more-->  
<p>程序和数据以文件的形式存储在外存中。<br>文件系统，负责文件的组织、存储和访问  </p>
<h2 id="文件和文件系统"><a href="#文件和文件系统" class="headerlink" title="文件和文件系统"></a>文件和文件系统</h2><p>应用程序运行是为了对数据进行处理，那么这些数据来自什么地方？<br>内存<br>缺点：容量有限、不持久、难以共享<br>永久介质—-磁盘<br>优点：大容量、低成本、持久、共享<br>存在的问题：  </p>
<ul>
<li>一般用户使用磁盘困难：怎样驱动磁盘、怎么定位数据  </li>
<li>解决方式：文件系统<br>用户无需知道存放具体位置、如何存放、如何打开以及磁盘的工作原理…  </li>
</ul>
<p>文件的定义：是记录在<strong>外存</strong>上的，具有<strong>符号名</strong>的，在逻辑上具有<strong>完整意义</strong>的一组相关<strong>信息项</strong>的集合。<br>信息项：是构成文件内容的基本单位，可以是一个字符，也可以是一个记录，也可以是一个数据项。  </p>
<h3 id="文件的组成部分"><a href="#文件的组成部分" class="headerlink" title="文件的组成部分"></a>文件的组成部分</h3><ol>
<li>文件体：文件本身的信息  </li>
<li>文件说明：文件存储和管理信息（包括文件属性、文件控制块（FCB）、目录项）<br>• 文件名称<br>• 文件内部标识符<br>• 文件类型<br>• 文件存储位置<br>• 文件大小<br>• 访问权限<br>• 时间、日期、用户标识  <h3 id="文件系统"><a href="#文件系统" class="headerlink" title="文件系统"></a>文件系统</h3>所有的计算机应用程序都要：<strong>存储信息和检索信息</strong><br>三个基本要求：  </li>
</ol>
<ul>
<li>能够存储大量的信息  </li>
<li>长期保存信息  </li>
<li>可以共享信息  </li>
</ul>
<p>解决方法：把信息以一种单元，即文件的形式存储在磁盘或其他外部介质上。通过文件系统来进行管理的，包括：文件的结构，命名，存取，使用，保护和实现方法。  </p>
<p>文件系统的定义：操作系统中负责存取和管理文件信息的模块称为文件系统。它负责管理文件的存储、检索、更新、共享和保护，并为用户提供一整套方便有效的文件使用和操作方法。<br>对于用户：  </p>
<ul>
<li>基本目标：实现“按名存取”。   </li>
<li>提供方便的操作和统一的调用接口，屏蔽底层细节<br>对于系统：  </li>
<li>组织、分配、回收文件的存储空间。  </li>
<li>负责文件的存储、检索、共享和保护。  </li>
<li>重要目标：提高文件存取速度  </li>
</ul>
<h3 id="文件系统的结构"><a href="#文件系统的结构" class="headerlink" title="文件系统的结构"></a>文件系统的结构</h3><p><img src="/images/pasted-21.png" alt="upload successful" loading="lazy">  </p>
<h3 id="文件属性"><a href="#文件属性" class="headerlink" title="文件属性"></a>文件属性</h3><ul>
<li>名字 – 文件名称唯一，以用户容易读取的形式加以引用  </li>
<li>标识符——标识文件系统内文件的唯一标识，一般为数字，对用户不可读  </li>
<li>类型 –被支持不同类型的文件系统所使用  </li>
<li>位置 –指向设备和设备上文件位置的指针  </li>
<li>大小 –文件当前大小（字节、字、块）  </li>
<li>保护– 决定谁能读、写、执行等的访问控制信息  </li>
<li>时间、日期和用户标识–文件创建、上次修改、和上次访问<br>所有文件的信息都保存在目录中。  </li>
</ul>
<h3 id="目录"><a href="#目录" class="headerlink" title="目录"></a>目录</h3><p>为了便于对文件进行存取和管理，文件系统为所有的文件建立了目录，每个文件在目录中都有一个登记项，称为文件目<br>录项，每个目录项记录着一个文件的名字及其外存地址等该文件的管理和使用信息。  </p>
<ul>
<li>实现文件按名字存取；  </li>
<li>实现文件共享和保护。<br>文件目录项又称为文件控制块（File Control Block，FCB），它除了记录文件名字和外存地址外，通常还保存了文件的创建者、创建日期、访问权限和长度等。<br>有些系统中，目录也以特殊文件形式进行保存，称为“目录文件”。  <h3 id="文件类型"><a href="#文件类型" class="headerlink" title="文件类型"></a>文件类型</h3>许多OS中用文件的扩展名表征文件类型。  </li>
</ul>
<ol>
<li>按用途分  <ul>
<li>系统文件  </li>
<li>用户文件  </li>
<li>库文件（由标准子程序及常用的例程等构成的文件，允许调用，不允许修改）  </li>
</ul>
</li>
<li>按文件中的数据形式分：<br>1）源文件：由源程序和数据构成的文件<br>2）目标文件：编译后的二进制代码文件<br>3）可执行文件：目标文件链接后形成的文件  </li>
<li>按存取控制属性分：<br>只执行文件、只读文件、读写文件  </li>
<li>按组织形式和处理方式分：<br>普通文件：用户建立的文件<br>目录文件：管理文件系统<br>特殊文件：各类I/O设备  </li>
</ol>
<h3 id="文件系统模型图"><a href="#文件系统模型图" class="headerlink" title="文件系统模型图"></a>文件系统模型图</h3><p><img src="/images/pasted-22.png" alt="upload successful" loading="lazy">  </p>
<ol>
<li>对象及其属性：(底层)<br>对象包括文件、目录、磁盘存储空间  </li>
<li>对对象进行操纵和管理的软件集合（核心）<br>存储空间的管理；<br>文件目录的管理；<br>地址映射；<br>文件的读写管理；<br>文件的共享与保护  </li>
<li>文件系统的接口：<br>命令接口、程序接口  </li>
</ol>
<h3 id="文件系统对文件操作"><a href="#文件系统对文件操作" class="headerlink" title="文件系统对文件操作"></a>文件系统对文件操作</h3><ol>
<li>对记录的操作：检索所有记录；检索单个记录；插入、修改、删除一个记录。  </li>
<li>对文件的操作  <ul>
<li>基本操作：文件的创建（分配外存、建立目录项）、删除、读、写、截断、设置文件的读写位置。  </li>
<li>文件的打开和关闭  </li>
<li>文件属性操作：设置和修改文件的属性  </li>
<li>目录操作：建立、修改和删除目录  </li>
</ul>
</li>
</ol>
<p>文件的打开和关闭  </p>
<ul>
<li>OS对文件的操作过程可分为两步：  <ul>
<li>检索文件目录：找到指定文件属性及在外存上的位置；  </li>
<li>对文件实施相应的操作：读、写等。  </li>
</ul>
</li>
<li>为避免多次重复检索目录，当用户第一次请求对某一文件进行操作时，先利用Open系统调用将该文件打开。  </li>
<li>“打开” ：系统将文件的属性（目录信息）<strong>从外存复制到内存</strong>打开文件表中，并返回该表目的编号给用户，建立了用户与文件间的联系。以后若再访问此文件，则利用编号直接在内存中检索，从而节省大量的检索开销，提高了文件的操作速度。  </li>
<li>“关闭” ：当用户不再需要对该文件的操作时， OS将会把该文件从打开文件表中的表目上删除掉，从而切断用户与文件间的联系。  <h2 id="文件的逻辑结构"><a href="#文件的逻辑结构" class="headerlink" title="文件的逻辑结构"></a>文件的逻辑结构</h2>所谓“文件的结构”，是指以什么样的形式去组织一个文件。<br>用户总是从使用的角度组织文件，系统总是从存储的角度组织文件。<br>从<strong>用户使用角度</strong>组织的文件，称为文件的“<strong>逻辑结构</strong>”<br>从<strong>系统存储角度</strong>组织的文件，称为文件的“<strong>物理结构</strong>”。  </li>
</ul>
<p>文件的逻辑结构（文件组织）：从用户观点来看待文件的组织形式。用户用这种逻辑结构形式来实现存储、检索和加工文件中的数据。<br>文件的物理结构（文件存储结构）：文件在外存空间存放时的组织结构。  </p>
<h3 id="文件逻辑结构类型"><a href="#文件逻辑结构类型" class="headerlink" title="文件逻辑结构类型"></a>文件逻辑结构类型</h3><h4 id="有结构文件：即记录式文件（数据结构、数据库）"><a href="#有结构文件：即记录式文件（数据结构、数据库）" class="headerlink" title="有结构文件：即记录式文件（数据结构、数据库）"></a>有结构文件：即记录式文件（数据结构、数据库）</h4><p>把文件信息划分成一个个记录，存取以记录为单位进行，称这种文件的逻辑结构为“记录式文件”。<br>在这种文件中，每个记录顺序编号，称为“记录号”。<br>总有一个数据项能够唯一地标识记录，这种数据项称为记录的“主关键字”。记录中的其他项被称为“次关键字”。  </p>
<p>按照记录长度划分：  </p>
<ul>
<li>定长记录：所有记录的长度是相同的。  </li>
<li>变长记录：各记录的长度不相同。指数据项数目不同或数据项本身长度不定。  </li>
</ul>
<p>记录：是一个具有内部结构的用于描述一个实体多方面属性的信息单位。  </p>
<h4 id="无结构文件：即流式文件"><a href="#无结构文件：即流式文件" class="headerlink" title="无结构文件：即流式文件"></a>无结构文件：即流式文件</h4><p>把文件视为有序的字符集合，其内部不再对信息进行组织划分，称这种文件的逻辑结构为“流式文件”。<br>流式文件以<strong>字符</strong>为操作对象，适用于进行字符流的正文处理。<br>如源程序、库函数等<br>由字符序列组成的文件，其内部不再划分结构，字符是该文件的基本信息单位<br>在UNIX系统中，所有的文件都被看作是流式文件：即使是有结构的文件，也被视为流式文件，系统不对文件进行格式处理，文件的含义由用户程序进行解释。  </p>
<h4 id="有结构文件组织方式"><a href="#有结构文件组织方式" class="headerlink" title="有结构文件组织方式"></a>有结构文件组织方式</h4><p>按照记录组织方式划分：  </p>
<ul>
<li>顺序文件：一系列记录按一定顺序排列成的文件。常是定长记录。  </li>
<li>索引文件：为每条记录设置一表项，以记录该记录的信息。常是变长记录。  </li>
<li>索引顺序文件：以记录分组，每组内为顺序的；每一组设置一个表项，形成索引表。  </li>
</ul>
<h3 id="顺序文件"><a href="#顺序文件" class="headerlink" title="顺序文件"></a>顺序文件</h3><ol>
<li>逻辑记录的排序  <ul>
<li>串结构：根据记录生成的先后顺序排列。  </li>
<li>顺序结构：记录按关键字排列。  </li>
</ul>
</li>
<li>对顺序文件的读或写操作  <ul>
<li>若顺序文件中的记录是<strong>定长</strong>的，则有当前记录的逻辑地址，就可得出下一记录的逻辑地址。<br>设L为记录长度，<br>读指针为Rptr，则Rptr: = Rptr + L；<br>写指针为Wptr，则Wptr: = Wptr + L  </li>
<li>而在<strong>变长</strong>记录文件中，L要换成<strong>Li</strong>，为刚读（写）完记录的长度。<br> 每个记录前面用1个单元存放记录长度  </li>
</ul>
</li>
<li>顺序文件的优缺点  <ul>
<li>优点：<br>批量存取时效率高，可存储在磁带上；<br>对定长记录，还可方便实现直接存取。  </li>
<li>缺点：<br>对变长记录，直接存取低效，对某一记录操作时，查找费时多；<br>增加或删除记录时，实现困难。  </li>
</ul>
</li>
</ol>
<h3 id="索引文件"><a href="#索引文件" class="headerlink" title="索引文件"></a>索引文件</h3><p>引入:为解决<strong>变长记录</strong>文件的直接存取低效问题。<br>对于顺序结构文件，若是定长记录，则第i个的位置可看作Ai=i×L；<br>而若是变长记录，则需(L1+L2+…+Li)+i<br>解决方法：为变长记录建立一张索引表，每个记录在索引表中占一项，如图。索引项按照记录中的某个关键字域<br>排序，索引表本身是一个定长记录的顺序文件，易于直接存取某一项。<br>检索过程：  </p>
<ol>
<li>根据提供的关键字值，查找索引表（可用顺序或折半等方法）。  </li>
<li>找到该记录对应的表项，根据指向记录的指针值访问记录。  </li>
</ol>
<p>优点：记录大小不必相同，不必排序，索引文件的记录项通常较小，查找速度快，便于随机访问(random access)；易于进行文件的增删。<br>缺点：索引表的存在，占用了存储空间。  </p>
<h3 id="索引顺序文件"><a href="#索引顺序文件" class="headerlink" title="索引顺序文件"></a>索引顺序文件</h3><p>将所有记录分为若干组，建立一张索引表，表项中记录每组中第一条记录的信息，如该记录的关键字值、指向该记录的指针。<br>每一组和整个大文件都应是<strong>按关键字顺序排列</strong>的。<br>检索过程：  </p>
<ol>
<li>根据提供的关键字值，先查找索引表（可用顺序或折半等方法）。  </li>
<li>找到该记录所在记录组的第一个记录的表项，读相关表项，找到该记录在文件中的位置。  </li>
<li>再顺序查找文件，以得到要找的记录。<br>索引顺序文件即把原顺序文件<strong>分组、分级</strong>，可减少查找次数。若记录个数很多时，也可建立多级索引，把索引表文件再建立索引表。<br>索引文件与索引顺序文件的区别在于索引文件中主文件不排序。  <h3 id="直接文件"><a href="#直接文件" class="headerlink" title="直接文件"></a>直接文件</h3>直接文件：根据记录关键字值，直接获得指定记录的物理地址。<br>关键字本身就决定了记录的物理地址<br>由关键字到记录物理的转换称为键值转换<br>问题：用什么方法实现记录值到物理地址的转换？<br>一种实现方式：哈希文件  <h3 id="哈希（Hash）文件"><a href="#哈希（Hash）文件" class="headerlink" title="哈希（Hash）文件"></a>哈希（Hash）文件</h3>目前应用最广泛的一种直接文件<br>记录位置由哈希函数确定: A = H(K)<br>例：K为记录键值， H(k)称为哈希函数，函数值A为k对应的记录在文件中位置  <h2 id="文件目录"><a href="#文件目录" class="headerlink" title="文件目录"></a>文件目录</h2></li>
</ol>
<h2 id="文件共享"><a href="#文件共享" class="headerlink" title="文件共享"></a>文件共享</h2><h2 id="文件保护"><a href="#文件保护" class="headerlink" title="文件保护"></a>文件保护</h2></div></section></article><div class="post-nav"><div class="post-nav-item"><a class="post-nav-prev" href="/2020/CS/hexo%E7%BE%8E%E5%8C%96/" rel="prev" title="hexo美化"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-arrow-left-s-line"></use></svg><span class="post-nav-text">hexo美化</span></a></div><div class="post-nav-item"><a class="post-nav-next" href="/2020/reading-note/%E3%80%8A%E6%88%BF%E6%80%9D%E7%90%AA%E7%9A%84%E5%88%9D%E6%81%8B%E4%B9%90%E5%9B%AD%E3%80%8B%E6%9E%97%E5%A5%95%E5%90%AB/" rel="next" title="《房思琪的初恋乐园》 林奕含"><span class="post-nav-text">《房思琪的初恋乐园》 林奕含</span><svg class="icon" aria-hidden="true"><use xlink:href="#icon-arrow-right-s-line"></use></svg></a></div></div></div></main><footer class="sidebar-translate" id="footer"><div class="copyright"><span>&copy; 2019 – 2020 </span><span class="with-love" id="animate"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-cloud-line"></use></svg></span><span class="author"> SAIN</span></div></footer><a class="hty-icon-button" id="goUp" aria-label="back-to-top" href="#"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-arrow-up-s-line"></use></svg><svg class="progress-circle-container" viewBox="0 0 100 100"><circle class="progress-circle" id="progressCircle" cx="50" cy="50" r="48" fill="none" stroke="#0078E7" stroke-width="2" stroke-linecap="round"></circle></svg></a><a class="popup-trigger hty-icon-button icon-search" id="search" href="javascript:;" title="Search"><span class="site-state-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-search-line"></use></svg></span></a><script>window.addEventListener("DOMContentLoaded", () => {
  // Handle and trigger popup window
  document.querySelector(".popup-trigger").addEventListener("click", () => {
    document.querySelector(".popup").classList.add("show");
    setTimeout(() => {
      document.querySelector(".search-input").focus();
    }, 100);
  });

  // Monitor main search box
  const onPopupClose = () => {
    document.querySelector(".popup").classList.remove("show");
  };

  document.querySelector(".popup-btn-close").addEventListener("click", () => {
    onPopupClose();
  });

  window.addEventListener("keyup", event => {
    if (event.key === "Escape") {
      onPopupClose();
    }
  });
});
</script><script src="/js/search/local-search.js" defer></script><div class="popup search-popup"><div class="search-header"><span class="popup-btn-close close-icon hty-icon-button"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-close-line"></use></svg></span></div><div class="search-input-container"><input class="search-input" id="local-search-input" type="text" placeholder="Searching..." value=""></div><div id="local-search-result"></div></div></div><script defer src="/js/utils.js"></script><script defer src="/js/hexo-theme-yun.js"></script></body></html>